<?xml version="1.0" encoding="UTF-8"?>
<Module>
<!--
opensocial-jquery
http://code.google.com/p/opensocial-jquery/

Copyright(C) 2008 LEARNING RESOURCE LAB
http://friendfeed.com/nakajiman
http://hp.submit.ne.jp/d/16750/

Dual licensed under the MIT and GPL licenses:
http://www.opensource.org/licenses/mit-license.php
http://www.gnu.org/licenses/gpl.html
-->
<ModulePrefs title="Friends - samples - opensocial-jquery">
<Require feature="dynamic-height" />
<Require feature="opensocial-0.8" />
</ModulePrefs>
<Content type="html"><![CDATA[
<script type="text/javascript" src="http://d1lzci7p8hi5b7.cloudfront.net/0.4.0/jquery.js"></script>
<script type="text/javascript" src="http://d1lzci7p8hi5b7.cloudfront.net/0.4.0/jquery.gadgets.js"></script>
<script type="text/javascript" src="http://d1lzci7p8hi5b7.cloudfront.net/0.4.0/jquery.opensocial.js"></script>
<script type="text/javascript">
jQuery(function($) {
  
  var url = '/people/@owner/@friends';
  var data = { startIndex: 0, count: 3 };

  $.getData(url, data, function(data, status) {
	
	var total = data.totalResults;
	var start = data.startIndex + 1;
	var end = data.startIndex + data.itemsPerPage;
	
	$('#pager').text(
	  [total, '件中', start, '-', end, '件目'].join(' ')
	);
	
	$.each(data, function(i, person) {

	  var template = $('#person')
	    .clone()
		.appendTo('#people')
		.show();
	
	  if (person.thumbnailUrl)
	    $('.thumbnail img', template)
	      .attr('src', person.thumbnailUrl)
	      .show();
	
	  $('.id', template)
	    .text(person.id);
	
	  $('.displayName', template)
	    .text(person.displayName);
    });

    $(window).adjustHeight();
  });

});
</script>
<style type="text/css">
<!--
dl dt, dl dd{
  margin: 0;
}
-->
</style>
<div id="people">
<dl id="person" class="person" style="display:none;">
<dt class="thumbnail"><img style="display:none;" /></dt>
<dd class="id"></dd>
<dd class="displayName"></dd>
</dl>
</div>
<div id="pager"></div>
]]></Content>
</Module>