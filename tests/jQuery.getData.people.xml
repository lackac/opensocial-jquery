<?xml version="1.0" encoding="UTF-8"?>
<Module>
<!--
opensocial-jquery
http://code.google.com/p/opensocial-jquery/

Copyright(C) 2008 LEARNING RESOURCE LAB
http://friendfeed.com/nakajiman
http://hp.submit.ne.jp/d/16750/

Dual licensed under the MIT and GPL licenses:
http://www.opensource.org/licenses/mit-license.php
http://www.gnu.org/licenses/gpl.html
-->
<ModulePrefs title="people - jQuery.getData - opensocial-jquery">
<Require feature="opensocial-0.8" />
</ModulePrefs>
<Content type="html"><![CDATA[
<script type="text/javascript" src="http://developmentor.lrlab.to/opensocial-jquery/opensocial-jquery.min.js"></script>
<script type="text/javascript">
jQuery(function($) {
  
  // Global Events
  $('#event1')
    .ajaxStart(function() { console.log('ajaxStart'); })
    .ajaxSend(function() { console.log('ajaxSend'); })
    .ajaxSuccess(function() { console.log('ajaxSuccess'); })
    .ajaxError(function() { console.log('ajaxError'); })
    .ajaxComplete(function() { console.log('ajaxComplete'); })
    .ajaxStop(function() { console.log('ajaxStop'); });

  $.ajax({
    //url: '/people/@viewer/@friends?sortBy=name',
    url: '/people/@owner/@friends?sortBy=name',
    //url: '/people/02988388427948228959/@friends',
    //url: '/people/17947911905709838043/@friends',
	data: {
	},
	dataType: 'data',
	success: function(people) {
      $.each(people, function(i, person) {
	    console.info(person);
	  });
	},
    error: function(xhr, status, e) {
      console.info(xhr, status, e);
	}
  });

  $.ajax({
    //url: '/people/02988388427948228959/@self',
    //url: '/people/17947911905709838043/@self',
    url: '/people/@owner/@self',
	data: {
	},
	dataType: 'data',
	success: function(people) {
      $.each(people, function(i, person) {
	    console.info(person);
	  });
	},
    error: function(xhr, status, e) {
      console.info(xhr, status, e);
	}
  });


  /**
   * success
   */
/*
  //var url = '/people/@me/@foo';
  var url = '/people/@owner/@self';
  var data = {
	fields: 'profileUrl,dateOfBirth,age,aboutMe,emails,addresses,jobs,phoneNumbers,foo'
  };

  $.ajax({url: url, data: data, dataType: 'data',
    error: function(xhr, status, e) {
      console.info(xhr);
	  console.info(status);
	  console.info(e);
	},
	success: function(data, status) {
      console.info(data);
	  console.info(data.startIndex);
	  console.info(data.itemsPerPage);
	  console.info(data.totalResults);
      console.info(status);
	},
	complete: function() {
	  console.log(arguments);
	}
  });
*/
/*
  //var url = '/people/@owner/@friends/@app';
  var url = '/people/@owner/@friends';
  var data = {
    startIndex: 0,
	count: 1,
	fields: 'profileUrl'
  };

  $.getData(url, data).next(function(data) {
    console.info(data);
	console.info(data.startIndex);
	console.info(data.itemsPerPage);
	console.info(data.totalResults);
  });
*/
/*
  var url = '/people/@me/@friends?count=3';
  var data = {
    startIndex: 2
  };

  $.getData(url, data, function(data, status) {
    console.info(data);
	console.info(data.startIndex);
	console.info(data.itemsPerPage);
	console.info(data.totalResults);
    console.info(status);
  });
*/

  /**
   * error
   */

/*
  var url = '/people/@viewer/@all';
  var data = {
  };

  $.getData(url, data, function(data, status) {
    console.info(data);
	console.info(data.startIndex);
	console.info(data.itemsPerPage);
	console.info(data.totalResults);
    console.info(status);
  });
*/

});
//gadgets.ut
</script>
<div id="event1"></div>
]]></Content>
</Module>